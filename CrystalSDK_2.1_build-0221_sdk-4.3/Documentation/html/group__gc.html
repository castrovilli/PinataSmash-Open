<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Crystal SDK 2.1 for iOS: Game Center related functionality</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Crystal SDK 2.1 for iOS&#160;<span id="projectnumber">Version 2.1 build 0221</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Game Center related functionality</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__gc.html#gafe87d88e195a13d360654f9d8eaf1584">CrystalSession::postAchievement:wasObtained:withDescription:alwaysPopup:forGameCenterAchievementId:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device.  <a href="#gafe87d88e195a13d360654f9d8eaf1584"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__gc.html#ga0fc87b1ad6f0825b51f8f4f8cdc1eab4">CrystalSession::postAchievementAsync:wasObtained:withDescription:alwaysPopup:forGameCenterAchievementId:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. This asynchronous method should be invoked if game designers experience performance issues calling postAchievement.  <a href="#ga0fc87b1ad6f0825b51f8f4f8cdc1eab4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__gc.html#gad9768ec830c76bd416f79119bef7ed38">CrystalSession::postAchievementProgressWithCrystalId:gameCenterId:percentageComplete:achievementDescription:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Report progress made towards an achievement both to Crystal and Game CenterThis method updates the Crystal UI to show the progress that the player has made towards an achievement in plain text. This method also updates Game Center to report the percentage complete for the achievement. Achievement popups are not shown if this method is called.  <a href="#gad9768ec830c76bd416f79119bef7ed38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__gc.html#ga43eddf2ff064d69327ca2b379d2b9fa3">CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:forGameCenterLeaderboardId:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device.  <a href="#ga43eddf2ff064d69327ca2b379d2b9fa3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__gc.html#gae68d13e7e07cbc38ef7b73f75ccf6a0c">CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:forGameCenterLeaderboardId:isTimeBased:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device.  <a href="#gae68d13e7e07cbc38ef7b73f75ccf6a0c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__gc.html#ga04221f6b2bd65c649098c0176d341d74">CrystalSession::isGameCenterAvailableOnDevice</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests to see if Game Center is available for use on the deviceUse this method to determine if Game Center is avaialble on the device at runtime. Game Center will only be available for iOS 4.1 and above.  <a href="#ga04221f6b2bd65c649098c0176d341d74"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga04221f6b2bd65c649098c0176d341d74"></a><!-- doxytag: member="CrystalSession::isGameCenterAvailableOnDevice" ref="ga04221f6b2bd65c649098c0176d341d74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) isGameCenterAvailableOnDevice </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tests to see if Game Center is available for use on the deviceUse this method to determine if Game Center is avaialble on the device at runtime. Game Center will only be available for iOS 4.1 and above. </p>

</div>
</div>
<a class="anchor" id="gafe87d88e195a13d360654f9d8eaf1584"></a><!-- doxytag: member="CrystalSession::postAchievement:wasObtained:withDescription:alwaysPopup:forGameCenterAchievementId:" ref="gafe87d88e195a13d360654f9d8eaf1584" args="(NSString *achievementId,[wasObtained] BOOL obtained,[withDescription] NSString *description,[alwaysPopup] BOOL alwaysPopup,[forGameCenterAchievementId] NSString *gameCenterAchievementId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) postAchievement: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>achievementId</em></td>
        </tr>
        <tr>
          <td class="paramkey">wasObtained:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>obtained</em></td>
        </tr>
        <tr>
          <td class="paramkey">withDescription:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>description</em></td>
        </tr>
        <tr>
          <td class="paramkey">alwaysPopup:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>alwaysPopup</em></td>
        </tr>
        <tr>
          <td class="paramkey">forGameCenterAchievementId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>gameCenterAchievementId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">achievementId</td><td>The ID of the achievement as shown in the Crystal control panel </td></tr>
    <tr><td class="paramname">obtained</td><td>YES if the achievement has been obtained or NO to 'unobtain' it. Ordinarily you will only obtain achievements. </td></tr>
    <tr><td class="paramname">description</td><td>A description of the achievement to be displayed to the user. Supplying the description here allows the developer to localize the description. Crystal may not necessarily have a network connection so the only way to get the achievement description is here. If no desctiption is supplied then no notification will be displayed to the user. </td></tr>
    <tr><td class="paramname">alwaysPopup</td><td>if YES the achievement popup will always be displayed to the user. If no the popup will only be displayed the first time that the achievement is achieved. </td></tr>
    <tr><td class="paramname">gameCenterAchievementId</td><td>The ID of the Game Center achievement to use. This will be defined in iTunes Connect for the application. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES if the achievement popup was or would be displayed and NO if the popup was not displayed </dd></dl>

</div>
</div>
<a class="anchor" id="ga0fc87b1ad6f0825b51f8f4f8cdc1eab4"></a><!-- doxytag: member="CrystalSession::postAchievementAsync:wasObtained:withDescription:alwaysPopup:forGameCenterAchievementId:" ref="ga0fc87b1ad6f0825b51f8f4f8cdc1eab4" args="(NSString *achievementId,[wasObtained] BOOL obtained,[withDescription] NSString *description,[alwaysPopup] BOOL alwaysPopup,[forGameCenterAchievementId] NSString *gameCenterAchievementId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) postAchievementAsync: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>achievementId</em></td>
        </tr>
        <tr>
          <td class="paramkey">wasObtained:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>obtained</em></td>
        </tr>
        <tr>
          <td class="paramkey">withDescription:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>description</em></td>
        </tr>
        <tr>
          <td class="paramkey">alwaysPopup:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>alwaysPopup</em></td>
        </tr>
        <tr>
          <td class="paramkey">forGameCenterAchievementId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>gameCenterAchievementId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. This asynchronous method should be invoked if game designers experience performance issues calling postAchievement. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">achievementId</td><td>The ID of the achievement as shown in the Crystal control panel </td></tr>
    <tr><td class="paramname">obtained</td><td>YES if the achievement has been obtained or NO to 'unobtain' it. Ordinarily you will only obtain achievements. </td></tr>
    <tr><td class="paramname">description</td><td>A description of the achievement to be displayed to the user. Supplying the description here allows the developer to localize the description. Crystal may not necessarily have a network connection so the only way to get the achievement description is here. If no desctiption is supplied then no notification will be displayed to the user. </td></tr>
    <tr><td class="paramname">alwaysPopup</td><td>if YES the achievement popup will always be displayed to the user. If no the popup will only be displayed the first time that the achievement is achieved. </td></tr>
    <tr><td class="paramname">gameCenterAchievementId</td><td>The ID of the Game Center achievement to use. This will be defined in iTunes Connect for the application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad9768ec830c76bd416f79119bef7ed38"></a><!-- doxytag: member="CrystalSession::postAchievementProgressWithCrystalId:gameCenterId:percentageComplete:achievementDescription:" ref="gad9768ec830c76bd416f79119bef7ed38" args="(NSString *crystalId,[gameCenterId] NSString *gameCenterId,[percentageComplete] double percentageComplete,[achievementDescription] NSString *achievementDescription)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) postAchievementProgressWithCrystalId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>crystalId</em></td>
        </tr>
        <tr>
          <td class="paramkey">gameCenterId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>gameCenterId</em></td>
        </tr>
        <tr>
          <td class="paramkey">percentageComplete:</td>
          <td></td>
          <td class="paramtype">(double)&#160;</td>
          <td class="paramname"><em>percentageComplete</em></td>
        </tr>
        <tr>
          <td class="paramkey">achievementDescription:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>achievementDescription</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Report progress made towards an achievement both to Crystal and Game CenterThis method updates the Crystal UI to show the progress that the player has made towards an achievement in plain text. This method also updates Game Center to report the percentage complete for the achievement. Achievement popups are not shown if this method is called. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">crystalId</td><td>The ID of the achievement as shown in the Crystal control panel </td></tr>
    <tr><td class="paramname">gameCenterId</td><td>The ID of the Game Center achievement to use. This will be defined in iTunes Connect for the application. </td></tr>
    <tr><td class="paramname">percentageComplete</td><td>The percentage complete for the achievement, i.e. 40.0 (passed to Game Center) </td></tr>
    <tr><td class="paramname">achievementDescription</td><td>A textual description of the achievement progress, i.e. "4 out of 10 coins collected" (shown in Crystal UI) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga43eddf2ff064d69327ca2b379d2b9fa3"></a><!-- doxytag: member="CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:forGameCenterLeaderboardId:" ref="ga43eddf2ff064d69327ca2b379d2b9fa3" args="(double result,[forLeaderboardId] NSString *leaderboardId,[lowestValFirst] BOOL lowestFirst,[forGameCenterLeaderboardId] NSString *gameCenterLeaderboardId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) postLeaderboardResult: </td>
          <td></td>
          <td class="paramtype">(double)&#160;</td>
          <td class="paramname"><em>result</em></td>
        </tr>
        <tr>
          <td class="paramkey">forLeaderboardId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>leaderboardId</em></td>
        </tr>
        <tr>
          <td class="paramkey">lowestValFirst:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>lowestFirst</em></td>
        </tr>
        <tr>
          <td class="paramkey">forGameCenterLeaderboardId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>gameCenterLeaderboardId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The score to publish, either as a numerical value or as a number of seconds (NSTimeInterval) for time-based scores </td></tr>
    <tr><td class="paramname">leaderboardId</td><td>The ID of the leaderboard to post to, which should be taken from the Developer Dashboard </td></tr>
    <tr><td class="paramname">lowestFirst</td><td>Set this if you have YES set for lowest value first in the developer dashboard. This parameter MUST match the flag in the developer dashboard! </td></tr>
    <tr><td class="paramname">gameCenterLeaderboardId</td><td>The ID of the Game Center leaderboard to use. This will be defined in iTunes Connect for the application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae68d13e7e07cbc38ef7b73f75ccf6a0c"></a><!-- doxytag: member="CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:forGameCenterLeaderboardId:isTimeBased:" ref="gae68d13e7e07cbc38ef7b73f75ccf6a0c" args="(double result,[forLeaderboardId] NSString *leaderboardId,[lowestValFirst] BOOL lowestFirst,[forGameCenterLeaderboardId] NSString *gameCenterLeaderboardId,[isTimeBased] BOOL isTimeBased)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) postLeaderboardResult: </td>
          <td></td>
          <td class="paramtype">(double)&#160;</td>
          <td class="paramname"><em>result</em></td>
        </tr>
        <tr>
          <td class="paramkey">forLeaderboardId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>leaderboardId</em></td>
        </tr>
        <tr>
          <td class="paramkey">lowestValFirst:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>lowestFirst</em></td>
        </tr>
        <tr>
          <td class="paramkey">forGameCenterLeaderboardId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>gameCenterLeaderboardId</em></td>
        </tr>
        <tr>
          <td class="paramkey">isTimeBased:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>isTimeBased</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The score to publish, either as a numerical value or as a number of seconds (NSTimeInterval) for time-based scores </td></tr>
    <tr><td class="paramname">leaderboardId</td><td>The ID of the leaderboard to post to, which should be taken from the Developer Dashboard </td></tr>
    <tr><td class="paramname">lowestFirst</td><td>Set this if you have YES set for lowest value first in the developer dashboard. This parameter MUST match the flag in the developer dashboard! </td></tr>
    <tr><td class="paramname">gameCenterLeaderboardId</td><td>The ID of the Game Center leaderboard to use. This will be defined in iTunes Connect for the application. </td></tr>
    <tr><td class="paramname">isTimeBased</td><td>Set this to YES if the leaderboard ID is set to have 'time based' leaderboards in the developer dashboard. This setting creates server load and must not be set for leaderboards that are not time-based. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu May 5 2011 10:07:57 for Crystal SDK 2.1 for iOS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
