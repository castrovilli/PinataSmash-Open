<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Crystal SDK 2.1 for iOS: Posting data to Crystal</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Crystal SDK 2.1 for iOS&#160;<span id="projectnumber">Version 2.1 build 0221</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Posting data to Crystal</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__post.html#ga24a88220c6ce34059fcf249124a3b917">CrystalSession::postAchievement:wasObtained:withDescription:alwaysPopup:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device.  <a href="#ga24a88220c6ce34059fcf249124a3b917"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__post.html#ga7beaeae7044b246e845f2def6c8fc7b3">CrystalSession::postAchievementAsync:wasObtained:withDescription:alwaysPopup:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. This asynchronous method should be invoked if game designers experience performance issues calling postAchievement.  <a href="#ga7beaeae7044b246e845f2def6c8fc7b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__post.html#gaa6ca3639a4c9aa50aaa7831de6d47d6d">CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device.  <a href="#gaa6ca3639a4c9aa50aaa7831de6d47d6d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="group__post.html#ga0eab1c80314b95a5bb221023c81eec1d">CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:isTimeBased:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device.  <a href="#ga0eab1c80314b95a5bb221023c81eec1d"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga24a88220c6ce34059fcf249124a3b917"></a><!-- doxytag: member="CrystalSession::postAchievement:wasObtained:withDescription:alwaysPopup:" ref="ga24a88220c6ce34059fcf249124a3b917" args="(NSString *achievementId,[wasObtained] BOOL obtained,[withDescription] NSString *description,[alwaysPopup] BOOL alwaysPopup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) postAchievement: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>achievementId</em></td>
        </tr>
        <tr>
          <td class="paramkey">wasObtained:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>obtained</em></td>
        </tr>
        <tr>
          <td class="paramkey">withDescription:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>description</em></td>
        </tr>
        <tr>
          <td class="paramkey">alwaysPopup:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>alwaysPopup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">achievementId</td><td>The ID of the achievement as shown in the Crystal control panel </td></tr>
    <tr><td class="paramname">obtained</td><td>YES if the achievement has been obtained or NO to 'unobtain' it. Ordinarily you will only obtain achievements. </td></tr>
    <tr><td class="paramname">description</td><td>A description of the achievement to be displayed to the user. Supplying the description here allows the developer to localize the description. Crystal may not necessarily have a network connection so the only way to get the achievement description is here. If no desctiption is supplied then no notification will be displayed to the user. </td></tr>
    <tr><td class="paramname">alwaysPopup</td><td>if YES the achievement popup will always be displayed to the user. If no the popup will only be displayed the first time that the achievement is achieved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES if the achievement popup was or would be displayed and NO if the popup was not displayed </dd></dl>

</div>
</div>
<a class="anchor" id="ga7beaeae7044b246e845f2def6c8fc7b3"></a><!-- doxytag: member="CrystalSession::postAchievementAsync:wasObtained:withDescription:alwaysPopup:" ref="ga7beaeae7044b246e845f2def6c8fc7b3" args="(NSString *achievementId,[wasObtained] BOOL obtained,[withDescription] NSString *description,[alwaysPopup] BOOL alwaysPopup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) postAchievementAsync: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>achievementId</em></td>
        </tr>
        <tr>
          <td class="paramkey">wasObtained:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>obtained</em></td>
        </tr>
        <tr>
          <td class="paramkey">withDescription:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>description</em></td>
        </tr>
        <tr>
          <td class="paramkey">alwaysPopup:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>alwaysPopup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers and the user (via a popup notification) that an achievement has been completed.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding excessive popups is handled within the Crystal SDK. Please call this method whenever an achievement is achieved. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. This asynchronous method should be invoked if game designers experience performance issues calling postAchievement. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">achievementId</td><td>The ID of the achievement as shown in the Crystal control panel </td></tr>
    <tr><td class="paramname">obtained</td><td>YES if the achievement has been obtained or NO to 'unobtain' it. Ordinarily you will only obtain achievements. </td></tr>
    <tr><td class="paramname">description</td><td>A description of the achievement to be displayed to the user. Supplying the description here allows the developer to localize the description. Crystal may not necessarily have a network connection so the only way to get the achievement description is here. If no desctiption is supplied then no notification will be displayed to the user. </td></tr>
    <tr><td class="paramname">alwaysPopup</td><td>if YES the achievement popup will always be displayed to the user. If no the popup will only be displayed the first time that the achievement is achieved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa6ca3639a4c9aa50aaa7831de6d47d6d"></a><!-- doxytag: member="CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:" ref="gaa6ca3639a4c9aa50aaa7831de6d47d6d" args="(double result,[forLeaderboardId] NSString *leaderboardId,[lowestValFirst] BOOL lowestFirst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) postLeaderboardResult: </td>
          <td></td>
          <td class="paramtype">(double)&#160;</td>
          <td class="paramname"><em>result</em></td>
        </tr>
        <tr>
          <td class="paramkey">forLeaderboardId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>leaderboardId</em></td>
        </tr>
        <tr>
          <td class="paramkey">lowestValFirst:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>lowestFirst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The score to publish, either as a numerical value or as a number of seconds (NSTimeInterval) for time-based scores </td></tr>
    <tr><td class="paramname">leaderboardId</td><td>The ID of the leaderboard to post to, which should be taken from the Developer Dashboard </td></tr>
    <tr><td class="paramname">lowestFirst</td><td>Set this if you have YES set for lowest value first in the developer dashboard. This parameter MUST match the flag in the developer dashboard! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0eab1c80314b95a5bb221023c81eec1d"></a><!-- doxytag: member="CrystalSession::postLeaderboardResult:forLeaderboardId:lowestValFirst:isTimeBased:" ref="ga0eab1c80314b95a5bb221023c81eec1d" args="(double result,[forLeaderboardId] NSString *leaderboardId,[lowestValFirst] BOOL lowestFirst,[isTimeBased] BOOL isTimeBased)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) postLeaderboardResult: </td>
          <td></td>
          <td class="paramtype">(double)&#160;</td>
          <td class="paramname"><em>result</em></td>
        </tr>
        <tr>
          <td class="paramkey">forLeaderboardId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>leaderboardId</em></td>
        </tr>
        <tr>
          <td class="paramkey">lowestValFirst:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>lowestFirst</em></td>
        </tr>
        <tr>
          <td class="paramkey">isTimeBased:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>isTimeBased</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notify the Crystal servers of a leaderboard result for the specified leaderboard ID.The game designer should not attempt to cache, buffer or otherwise restrict the number of times this method is called. All logic with regards to reducing server load, handling multiple users and avoiding unneeded posts is handled within the Crystal SDK. Please call this method whenever a score is scored. Failure to do so will almost certainly cause problems for multiple Crystal users on the same device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The score to publish, either as a numerical value or as a number of seconds (NSTimeInterval) for time-based scores </td></tr>
    <tr><td class="paramname">leaderboardId</td><td>The ID of the leaderboard to post to, which should be taken from the Developer Dashboard </td></tr>
    <tr><td class="paramname">lowestFirst</td><td>Set this if you have YES set for lowest value first in the developer dashboard. This parameter MUST match the flag in the developer dashboard! </td></tr>
    <tr><td class="paramname">isTimeBased</td><td>Set this to YES if the leaderboard ID is set to have 'time based' leaderboards in the developer dashboard. This setting creates server load and must not be set for leaderboards that are not time-based. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu May 5 2011 10:07:57 for Crystal SDK 2.1 for iOS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
