<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Crystal SDK 2.1 for iOS: Release Notes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Crystal SDK 2.1 for iOS&#160;<span id="projectnumber">Version 2.1 build 0221</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Release Notes </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="latestreleasenotes"></a>
Latest</h2>
<h3>New Features</h3>
<ul>
<li>
Time based leaderboards. </li>
<li>
Multi-tab support in the Crystal pull tab overlay </li>
<li>
Limited access to the Crystal user ID's for the current player and their friends </li>
<li>
A user now needs to agree to our Terms of Service (TOS) before they can use certain parts of Crystal. </li>
<li>
Leaderboard invisibility option </li>
</ul>
<h3>Major changes</h3>
<ul>
<li>
Added new time-based leaderboards. These are enabled from the developer dashboard when creating a new leaderboard, and can only be applied to new leaderboards. When posting to time-based leaderboards it is important to use the isTimeBased: parameter in the SDK to ensure that the client-side score buffering works correctly. </li>
<li>
Added support to the Crystal pull tab overlay for multiple combinations of tabs. You can now specify upto four tabs using any combination of the core tabs in whatever order is required.<br/>
Please see the activateCrystalPullTabOn methods in the pull tab API for further details. </li>
<li>
The players friends list has been exposed in the player data as a list of Crystal user ID's. </li>
<li>
Added a new method downloadLeaderboardDataForID:leaderboardType:force to leaderboard data access API's that will attempt to refresh the data from the server. For performance reasons, this will be limited to updating once every 30 minutes no matter haow many times this method is called. </li>
<li>
Leaderboards can now be specified as invisible to the Crystal UI. This allows you to use the leaderboard data fo comparisons on a global scale using the direct access API's but hide the data from users within the Crystal UI. </li>
</ul>
<h3>Minor Changes</h3>
<ul>
<li>
Fixed an issue with the popup appearing incorrectly for acheivements posted using the Async method and providing a nil description. </li>
<li>
When clicking 'back' within the Crystal UI it will now return to the UI item you previously selected. </li>
<li>
Updated the API documentation to be output as both HTML and an XCode docset. </li>
<li>
Added support to the Crystal pull tab overlay for showing the following views individually:<br/>
 <ul>
<li>
profile </li>
<li>
settings </li>
<li>
virtual goods </li>
<li>
virtual currencies </li>
<li>
gifts and market </li>
<li>
friends </li>
<li>
find friends </li>
</ul>
</li>
<li>
Added support to the Crystal pull tab overlay for showing the main Crystal elements together i.e. the Profile, Achievements, Leaderboards and Challenges. </li>
<li>
Added the ability to specify the inital closed state of the Crystal pull tab overlay. </li>
<li>
Updated the gifting Crystal pull tab overlay to show the promotional gifts only. Please use the new multi-tab support to display this tab in compbination with other tabs, such as the virtual goods or virtual currencies. </li>
<li>
Fixed a crash when closing the Crystal pull tab overlay very soon after opening it. </li>
<li>
Fixed a problem with the achievement data not being updated properly when accessed via the raw access API. </li>
<li>
Added access to the user ID via the leaderboard raw access API's. </li>
<li>
The Crystal Unity API is now in parity with standard Crystal API. </li>
<li>
Crystal now has a homogenous Find Friends view for gifting and sending friend requests/invites with changes as follows: <ul>
<li>
The UI for this now uses a multi-selection list for any of the friend selection methods i.e. Facebook, Twitter, Crystal or local contacts. </li>
<li>
The contacts list for gifting now displays an image, first name, surname and email address rather than just an email address </li>
<li>
Added a 'People you may know' section to 'Find Friends' page. This will list friend suggestions based on friends you already share with other people. </li>
</ul>
</li>
<li>
Updated the logic for the random20ForLeaderboardID methods to return more data for leaderboards with less than 500 entries. </li>
</ul>
<h2><a class="anchor" id="prevreleasenotes"></a>
Previous Release Notes</h2>
<h2>CrystalSDK_2.0_build-0215-patch02 21/04/2010</h2>
<h3>Major changes</h3>
<ul>
<li>
Created two SDK builds - APNS and noAPNS. This is due to a change with the Apple submission process that is now failing applications that don't have the required entitlements but are using the APNS API. Now, for all applications that use challenges the APNS SDK will need to be used. For all other applications use the noAPNS. Because Apple checks the API's being used within the executable the CrystalSettingEnableApplicationPushNotifications has been removed as this does not fix the problme with the submissions </li>
</ul>
<h2>CrystalSDK_2.0_build-0215-patch01 19/04/2011</h2>
<h3>Major changes</h3>
<ul>
<li>
Added a new CrystalSetting CrystalSettingEnableApplicationPushNotifications to explicitly specify the applciation uses push notifications. This is due to a change with the Apple submission process that is now failing applications that don't have the required entitlements but are using the APNS API. Now, for all applications that use challenges this option will need to be set for the Crystal to communicate with Apples APNS servers. </li>
</ul>
<h3>Minor Changes</h3>
<ul>
<li>
Minor fix to the gifting API so that it shows the gifts only </li>
</ul>
<h2>CrystalSDK_2.0_build-0215 21/03/2011</h2>
<h3>New Features</h3>
<ul>
<li>
<p class="startli">Crystal now includes a number of new features to help with the monetization of your apps. These include a virtual goods and currencies implementation with an off-the-shelf store front and a new viral marketing mechanism called gifting. Another notable feature is the addition of overlay UI components, that can be used for example for the unobtrusive display of leaderboards at a level-end screen. Most of the Crystal UI can be displayed in this way, allowing for much deeper integration of social features in your title.<br/>
 The new features are <a href="http://www.chillingo.com/documents/crystal/pdfs/crystal_v2_summary_developer_deck.pdf">outlined in this PDF</a>.<br/>
</p>
<p class="endli"></p>
</li>
<li>
Some more information on <a href="http://www.chillingo.com/documents/crystal/pdfs/crystal_v2_virtual_currencies.pdf">virtual currencies</a> is available. </li>
<li>
<p class="startli">Some more information on <a href="http://www.chillingo.com/documents/crystal/pdfs/crystal_v2_gifting.pdf">viral marketing through gifting</a> is also available.</p>
<p class="endli"></p>
</li>
</ul>
<h3>Major changes</h3>
<ul>
<li>
Implemented a new Crystal overlay user interface that can be used to display individual or multiple Crystal sections from any of the screen edges. This new overlay UI should complement the main Crystal UI and can be used, for example, to display a specific leaderboard at the end of a level or a news feed on a games front end. Further information and the methods available for using the new overlay UI can be found in the CrystalSession+PullTab.h file but any usage will require an updated theme file. </li>
<li>
Added JSON.cs source file as part of Unity distribution. This file is required to build with Unity so please see the developer wiki for further details. </li>
<li>
Reduced the binary size of the Crystal SDK library by reducing down the symbols being exported. This should result in slightly quicker linking and smaller application builds overall. Please let us know as soon as possible if this causes any problems when building an application via <a href="mailto:Crystal Developer Support&lt;devsupport@crystalsdk.com&gt;">Crystal Developer Support</a>. </li>
<li>
Theme updates are required to use some of the new Crystal features. If you run into errors please contact <a href="mailto:devsupport@crystalsdk.com">devsupport@crystalsdk.com</a> and we'll arrange for updates to your existing themes. In the mean time please use the supplied UniversalIndigo theme for testing. </li>
<li>
We have now moved over to using a single sign-on system rather than requiring a user to sign up before being able to use Crystal. This means that a user is now always determined to be signed in as either a guest or a registered user and any Crystal functionality that queries the current user signed up state has been updated to reflect this. Users using previous versions of the SDK will still be required to login as before. </li>
</ul>
<h3>Minor Changes</h3>
<ul>
<li>
Fix for some of the dialog boxes appearing offset. These should now be centralised correctly  </li>
<li>
Fix for the time format of leaderboards to match times used by Game Center  </li>
<li>
Fixed a crash when selecting the 'Set Location' option via the Leaderboards  </li>
<li>
Added Unity support for custom leaderboard access, virtual gifts and virtual currencies. Also added some missing public API's to bring the Unity implementation closer to parity with the Objective-C API's  </li>
<li>
Added the ability to view YouTube urls embedded within the Crystal UI  </li>
<li>
The player ID can now be requested from the <a class="el" href="interface_crystal_player.html" title="The interface to the Crystal gifting functionality and player info This class updates automatically f...">CrystalPlayer</a> instance  </li>
<li>
Deprecated the CrystalLeaderboard positionForLeaderboardEntry method. This change is due to excessive server load when calculating the exact leaderboard positions so unfortunately we have had to remove this functionality. </li>
<li>
Added a new - (NSString*) percentileRankForLeaderboardEntry:(NSDictionary*)leaderboardEntry method to the <a class="el" href="interface_crystal_leaderboards.html" title="The Crystal interface to the Crystal direct leaderboard access API. The categoriesToGet property must...">CrystalLeaderboards</a> to return the new percentile based string information from the leaderboard data. </li>
<li>
Fixed an issue with some dialogs appearing offset </li>
<li>
Updated the Twitter implementation to use a dialog that will auto-rotate and has a semi-transparent background. </li>
<li>
Fixed a problem with the badge icon sometimes being shown too large </li>
</ul>
<h2>CrystalSDK_1.7_build-0184b 14/12/2010</h2>
<h3>Major changes</h3>
<ul>
<li>
Implemented new gifting and virtual currencies API's  </li>
<li>
Improvements to the achievement and leaderboard posting performance </li>
</ul>
<h3>Minor Changes</h3>
<ul>
<li>
Updated the Unity API achievement and leaderbaord posting methods to allow the developer to specify a custom Game Center ID, otherwise it should still work as before using the Crystal ID for the Game Center ID if none is specified.  </li>
<li>
Fixed an issue with the Facebook username not being displayed after logging out and re-logging in on the client. </li>
<li>
Fixed an issue with the title of the popup of an incoming challenge result being incorrect. </li>
<li>
Implemented the iPad push notification handling using a UIAlertView </li>
<li>
<p class="startli">Implemented public Unity method to be able to open the Crystal UI at a specific leaderboard via Unity<br/>
 </p>
<p class="endli"><code>public void ActivateUiAtLeadboardWithId(string leaderboardId)</code>  </p>
</li>
<li>
Fix for the post achievement method not returning YES when subsequent users are logged in and obtaining achievements for the first time. </li>
<li>
Added new public isCrystalUiActive method for checking if the Crystal UI is currently active and therefore visible. </li>
<li>
Achievement popups carousel when many have been triggered </li>
<li>
Achievement popups now dismiss when touched </li>
</ul>
<h2>CrystalSDK_1.7_build-0176 15/11/2010</h2>
<p><b>IMPORTANT NOTE:</b> The Crystal SDK library will be built against iOS 4.2 SDK only from this point onwards </p>
<h3>Major changes</h3>
<ul>
<li>
New UI element for virtual goods </li>
</ul>
<h3>Minor Changes</h3>
<ul>
<li>
Added Game Center synchronisation button for users to be able to sync their Crystal data to Game Center </li>
<li>
Implemented a fix to prevent Safari from appearing briefly when an iTunes link is selected </li>
<li>
Fix for the deactivateUI method taking a long time - excessive caching of images  </li>
<li>
Fix for a users location often being determined incorrectly or not at all  </li>
</ul>
<h2>CrystalSDK_1.6_build-0174 09/11/2010</h2>
<h3>Major changes</h3>
<ul>
<li>
Built against the recent iOS 4.2 SDK release that unifies the iPad and iPhone/iPod Touch builds.  </li>
<li>
Updated the Twitter authentication to use OAuth via ASIHTTP.  </li>
<li>
Updated the Facebook SDK from Facebook Connect to the latest Facebook iOS SDK </li>
</ul>
<h3>Minor Changes</h3>
<ul>
<li>
Added Game Center user switching support </li>
<li>
Added Game Center friend matching support </li>
<li>
Updated the 'invite friends via email' to display a name rather than email address  </li>
<li>
Updated the user signed in status checking to be more reliable  </li>
<li>
Updated the use of the location manager so that updates are started when the Crystal UI is opened and stopped when it is closed  </li>
<li>
<p class="startli">Implemented a new public method to allow a developer to open the Crystal UI at a specific leaderboard: </p>
<p class="endli"><code>+ (void) activateCrystalUIAtLeaderboardWithId:(NSString*)leaderboardId;</code>  </p>
</li>
</ul>
<h2>CrystalSDK_1.4_build-0160 16/09/2010</h2>
<h3>Major changes</h3>
<ul>
<li>
Added support for Game Center API's. Documentation for the Game Center API's can be found here: <a href="http://devsupport.crystalsdk.com/default.asp?W46">http://devsupport.crystalsdk.com/default.asp?W46</a>  </li>
<li>
Added Game Center Unity API's  </li>
<li>
Added new public API support for the handleOpenURL application delegate pass-through. This should be used to ensure challenges started from email links are started successfully. Documentation for integrating challenges can be found here: <a href="http://devsupport.crystalsdk.com/default.asp?W19">http://devsupport.crystalsdk.com/default.asp?W19</a>  </li>
<li>
Deprecated the use of the CrystalSettingSingleiPadPopover setting. All iPad interfaces will now use the single popover by default and setting this option will have no effect.  </li>
<li>
Updated the Reachability to use v2.0.4 (modified version of Apple v2.0) for the ASIHTTP code. </li>
<li>
Added the ASIHTTP codebase for future changes to the Twitter API.<br/>
 <b>NOTE:</b> This requires linking with the CFNetwork.framework and MobileCoreServices.framework </li>
</ul>
<h3>Minor Changes</h3>
<ul>
<li>
Corrected an issue with Safari appearing briefly when clicking on an iTunes link </li>
</ul>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Thu May 5 2011 10:07:57 for Crystal SDK 2.1 for iOS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
